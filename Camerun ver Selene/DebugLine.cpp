//*============================================================================
//DebugLine.cpp
//*============================================================================

//=============================================================================
//include
//=============================================================================
#include "DebugLine.h"

//=============================================================================
//コンストラクタ
//=============================================================================
CDebugLine::CDebugLine(void) :m_pLine(NULL), m_pActorLine(NULL)
{

}

//=============================================================================
//デストラクタ
//=============================================================================
CDebugLine::~CDebugLine(void)
{
	SAFE_RELEASE( m_pActorLine );
	SAFE_RELEASE( m_pLine );
}

//=============================================================================
//ラインの生成
//=============================================================================
//[input]
//	pRender:レンダリング用デバイス
//=============================================================================
void CDebugLine::CreateLine( Renderer::IRender *pRender )
{
	m_pLine = pRender->CreateLine3D( 500000, false );
}

//=============================================================================
//アクターの生成
//=============================================================================
//[input]
//	pSceneMgr:シーンデバイス
//=============================================================================
void CDebugLine::CreateActor( Selene::Scene::ISceneManager *pSceneMgr )
{
	m_pActorLine = pSceneMgr->CreateActor( m_pLine );
}

//=============================================================================
//レンダリング
//=============================================================================
void CDebugLine::Rendering()
{
	m_pActorLine->RenderingRequest();
}

//=============================================================================
//ラインの追加
//=============================================================================
//[input]
//	pLine:追加するライン
//	LineNum:ライン数
//=============================================================================
void CDebugLine::AddLine( Renderer::SLineVertex3D *pLine, int LineNum )
{
	m_pLine->Push( pLine, LineNum );
	
}

//=============================================================================
//ボックスの追加
//=============================================================================
//[input]
//	Box:追加するボックス
//	Color:ラインの色
//=============================================================================
void CDebugLine::AddBox( Collision::CBox &Box, CColor Color )
{
	m_pLine->PushBox( Box, Color );
	
}





